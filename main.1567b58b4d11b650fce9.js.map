{"version":3,"sources":["webpack:///./templates/gallery-item-template.hbs","webpack:///./js/refs.js","webpack:///./js/util/errors.js","webpack:///./apiServises/api-variables.js","webpack:///./js/data/poster-sizes.js","webpack:///./js/image-sizes.js","webpack:///./apiServises/api.js","webpack:///./js/show-trailer.js","webpack:///./js/util/success.js","webpack:///./js/authFirebase.js","webpack:///./js/localStorageWatched.js","webpack:///./js/localStorageQueue.js","webpack:///./js/dataToFirebase.js","webpack:///./js/util/warnings.js","webpack:///./js/dataFromFirebase.js","webpack:///./js/mainFirebase.js","webpack:///./js/modal-single-film.js","webpack:///./js/update-markup.js","webpack:///./js/pagination.js","webpack:///./js/util/infos.js","webpack:///./js/Films-by-query.js","webpack:///./js/main.js","webpack:///./js/search-films.js","webpack:///./js/search-list.js","webpack:///./js/btnActive.js","webpack:///./js/navigation.js","webpack:///./js/spinner.js","webpack:///./js/footer-modal-handler.js","webpack:///./js/theme.js","webpack:///./js/back-to-top.js","webpack:///./templates/no-film.hbs","webpack:///./templates/search-list.hbs","webpack:///./templates/modal.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","refs","searchForm","document","querySelector","gallery","galleryContainer","searchGallery","searchList","input","libraryBtn","homeBtn","header","formWrap","containerBtnLibrary","logo","getElementById","buttonModal","divModal","spinner","spinnerInversion","body","footer","toolbar","modalThemeFilm","modalThemeFooter","stateCheckbox","paginator","signInBtn","signOutBtn","userInfo","modal","logoBtn","error404Handler","error","text","delay","mouseReset","closer","remove","destroy","error500Handler","emptyLibrary","info","API_KEY","BASE_URL","PICTURE_REPLACER","mobile","tablet","desktop","getImageSize","obj","documentElement","clientWidth","searchQuery","getUrl","page","urls","searchUrl","this","query","popylarFilmsUrl","getUpdatedFilms","url","axios","get","request","status","getFullFilmsInfo","filmsData","films","map","updatedFilms","updateInfo","console","log","getFilmiIdList","idList","promises","id","Promise","all","getUpdatedPopularFilms","getFullPopularFilms","showFilmDetails","results","getFilmTrailer","idTrailer","reduce","filmsList","film","release_date","slice","genres","updateGenres","poster_path","posterSizes","push","updateOneFilmInfo","updateFilm","name","original_title","toUpperCase","popularity","Math","floor","ceil","filmIdList","genresList","genre","index","search","resetPage","trailer","key","showTrailer","buttonOpenRef","buttonCloseRef","backdropRef","trailerModalContainer","video","videoSrc","src","modalOverlay","onCloseModal","classList","onBackDropClick","event","target","currentTarget","addEventListener","add","successLoginHandler","success","successLogoutHandler","successAddQueueHandler","successAddWatchedHandler","readUserData","userId","firebase","database","ref","once","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","onAuthStateChanged","user","displayName","photoURL","email","uid","innerHTML","provider","GoogleAuthProvider","signInWithPopup","then","result","credential","accessToken","imageUrl","currentUser","checkUserID","exists","set","username","profile_picture","writeUserData","setTimeout","catch","code","errorMessage","message","signOut","getListFilmsWatched","currentList","localStorage","getItem","watch","JSON","parse","item","addFilmHandlerWatched","indexOf","String","chekDuplicates","filmToAdd","filmWatched","setItem","stringify","updateList","getListFilmsQueue","queue","addFilmHandlerQueue","filmQueue","updateWatchedList","movieId","update","watched","updateQueueList","warningRemoveQueueHandler","alert","warningRemoveWatchedHandler","setModalBtnWatchStyles","button","hiddenBtn","val","includes","dataToFirebase","movieIndex","splice","indexToDelete","removeFromWatch","setModalBtnQueueStyles","removeFromQueue","getMoviesWatched","authoried","length","markup","noFilmTemplate","insertAdjacentHTML","api","updatedWatched","getMoviesQueue","queued","updatedQueued","defaults","baseURL","checkMovieInStorage","addBtnWatch","removeBtnWatch","addBtnQueue","removeBtnQueue","dataFromWatched","dataFromQueue","contains","checkMovieInLocalStorage","showModal","dataset","apiService","filmTpl","updateData","mainFirebase","dataFromFirebase","nodeName","MicroModal","show","disableScroll","disableFocus","updateGalleryMarkup","filmCardTpl","screenSize","options","totalItems","itemsPerPage","visiblePages","firstItemClassName","lastItemClassName","addItems","array","addPagination","Pagination","on","evt","window","scrollTo","top","offsetHeight","behavior","startPagination","total_pages","emptyFilmListHandler","showFilmsByQuery","handlePopularFilmsByClick","loadPopularFilms","preventDefault","form","elements","value","textContent","debounce","filmList","updatedFilmList","searchListTpl","btnWatched","btnQueue","renderWatched","finally","toHome","opts","lines","width","radius","scale","corners","speed","rotate","animation","direction","color","fadeColor","left","shadow","zIndex","className","position","opts2","footerModalHandler","selector","Spinner","spin","Theme","checked","addBackToTop","diameter","backgroundColor","textColor","scrollDuration","lambda"],"mappings":"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","file":"main.1567b58b4d11b650fce9.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li data-micromodal-trigger=\\\"modal-1\\\" class=\\\"grid__item gallery__film\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":79},\"end\":{\"line\":2,\"column\":85}}}) : helper)))\n    + \">\\n\\n    <img class=\\\"gallery-film__image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":42},\"end\":{\"line\":4,\"column\":57}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":64},\"end\":{\"line\":4,\"column\":82}}}) : helper)))\n    + \"\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":92},\"end\":{\"line\":4,\"column\":98}}}) : helper)))\n    + \" />\\n    <h3 class=\\\"gallery-film__title\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":44},\"end\":{\"line\":5,\"column\":50}}}) : helper)))\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":51},\"end\":{\"line\":5,\"column\":69}}}) : helper)))\n    + \"</h3>\\n    <p class=\\\"gallery-film__features\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":46},\"end\":{\"line\":6,\"column\":52}}}) : helper)))\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genres\") || (depth0 != null ? lookupProperty(depth0,\"genres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":53},\"end\":{\"line\":6,\"column\":63}}}) : helper)))\n    + \" | \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":66},\"end\":{\"line\":6,\"column\":82}}}) : helper)))\n    + \"\\n    </p>\\n\\n\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":11,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  gallery: document.querySelector('.js-gallery'),\n  galleryContainer: document.querySelector('.gallery__list'),\n  searchGallery: document.querySelector('.search-list'),\n  searchList: document.querySelector('.js-search-list'),\n  input: document.querySelector('.js-input'),\n  libraryBtn: document.querySelector('#libraryBtn'),\n  homeBtn: document.querySelector('#homeBtn'),\n  header: document.querySelector('#header'),\n  formWrap: document.querySelector('#formWrap'),\n  containerBtnLibrary: document.querySelector('#containerBtnLibrary'),\n  logo: document.getElementById('logo'),\n  buttonModal: document.querySelector('.btn-trigger'),\n  divModal: document.querySelector('.modal__container'),\n  spinner: document.querySelector('.spinner'),\n  spinnerInversion: document.querySelector('.spinner-inversion'),\n  body: document.querySelector('body'),\n  footer: document.querySelector('.footer'),\n  toolbar: document.querySelector('.toolbar'),\n  modalThemeFilm: document.querySelector('.modal__theme-film'),\n  modalThemeFooter: document.querySelector('.modal__theme-footer'),\n  stateCheckbox: document.getElementById('theme-switch-toggle'),\n  paginator: document.getElementById('pagination'),\n  signInBtn: document.querySelector('#sign_in'),\n  signOutBtn: document.querySelector('#sign_out'),\n  userInfo: document.querySelector('.user-info'),\n  modal: document.querySelector('.modal'),\n  logoBtn: document.querySelector('#logo'),\n};\n\nexport default refs;\n","import '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport { error, info } from '@pnotify/core';\n\nfunction error404Handler() {\n  error({\n    text:\n      'Some issues with the request answer! (Status 404) Please, try again later!',\n    delay: 8000,\n    mouseReset: true,\n    closer: false,\n    remove: true,\n    destroy: true,\n  });\n}\n\nfunction error500Handler() {\n  error({\n    text:\n      'Some issues with the server! (Status 500) Please, try to reload the page!',\n    delay: 8000,\n    mouseReset: true,\n    closer: false,\n    remove: true,\n    destroy: true,\n  });\n}\n\nfunction emptyLibrary() {\n  info({\n    text: 'No movies have been added yet.',\n    delay: 1500,\n    mouseReset: true,\n    closer: true,\n    remove: true,\n    destroy: true,\n  });\n}\n\nexport { error404Handler, error500Handler, emptyLibrary };\n","const API_KEY = '44fd846a8fbd886b31f763260ef2b77b';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst PICTURE_REPLACER = `https://via.placeholder.com/274x398?text=THE+PICTURE+IS+WANTED`;\nconst IMAGE_BASE_URL = 'https://themoviedb.org/t/p/';\nexport { API_KEY, BASE_URL, PICTURE_REPLACER, IMAGE_BASE_URL };\n","export default {\n  mobile: 'w342',\n  tablet: 'w500',\n  desktop: 'w780',\n};\n","function getImageSize(obj) {\n  let imageSize = '';\n  if (\n    document.documentElement.clientWidth >= 320 &&\n    document.documentElement.clientWidth < 768\n  ) {\n    imageSize = obj.mobile;\n    return imageSize;\n  }\n  if (\n    document.documentElement.clientWidth >= 768 &&\n    document.documentElement.clientWidth < 1024\n  ) {\n    imageSize = obj.tablet;\n    return imageSize;\n  }\n  if (document.documentElement.clientWidth >= 1024) {\n    imageSize = obj.desktop;\n    return imageSize;\n  }\n}\n\nexport default getImageSize;\n","import axios from 'axios';\nimport { error404Handler, error500Handler } from '../js/util/errors';\nimport {\n  API_KEY,\n  BASE_URL,\n  PICTURE_REPLACER,\n  IMAGE_BASE_URL,\n} from './api-variables';\n// import backdropSizes from '../js/data/backdrop-sizes';\nimport posterSizes from '../js/data/poster-sizes';\nimport getImageSize from '../js/image-sizes';\n\nexport default {\n  searchQuery: '',\n\n  // Функція повертає об'єкт url для основних запитів\n  getUrl(page) {\n    const urls = {};\n    urls.searchUrl = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query==${this.query}&page=${page}&include_adult=false`;\n    urls.popylarFilmsUrl = `${BASE_URL}/trending/movie/week?api_key=${API_KEY}&page=${page}`;\n    return urls;\n  },\n\n  async getUpdatedFilms(url) {\n    try {\n      // 404, 500 Error Handlers\n      const request = await axios.get(url);\n\n      if (request.status === 404) {\n        error404Handler();\n      }\n      if (request.status === 500) {\n        error500Handler();\n      }\n\n      // отримуємо масив результатів запитів для отримання повної інформації про фільми\n      const filmsData = await this.getFullFilmsInfo(url);\n      // проходимося по отриманому масиві і вибираємо всі об'єкти з повною інформацією про фільми\n      const films = filmsData.map(({ data }) => data);\n      // Для кожного об'єкта оновлюємо необхідну в ньому інформацію\n      const updatedFilms = this.updateInfo(films);\n      // console.log(updatedFilms);\n      return updatedFilms;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  // Функція повертає всю інформацію по id фільма, знайденого за query\n  async getFullFilmsInfo(url) {\n    try {\n      // 404, 500 Error Handlers\n      const request = await axios.get(url);\n\n      if (request.status === 404) {\n        error404Handler();\n      }\n      if (request.status === 500) {\n        error500Handler();\n      }\n      // Вибираємо id всіх отриманих об'єктів масиву за певним запитом\n      const idList = await this.getFilmiIdList(url);\n      // для кожного об'єкта, за його id, робимо ще один запит для отримання повної інформації про фільм\n      const promises = idList.map(id =>\n        axios.get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}&language=en-US`),\n      );\n      // отримуємо масив промісів з об'єктами, в яких є повна інформація про фільм\n      const films = await Promise.all(promises);\n      return films;\n    } catch (error) {}\n  },\n\n  // getUpdatedPopularFilms -  вывод популярных фильмов за неделю\n  async getUpdatedPopularFilms() {\n    try {\n      const filmsData = await this.getFullPopularFilms();\n      const films = filmsData.map(({ data }) => data);\n      const updatedFilms = this.updateInfo(films);\n      return updatedFilms;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  //showFilmDetails(id) - показ детальной инфы о фильме при показе модалке, айдишник добавлен в ли каждого фильма data-id\n  async showFilmDetails(id) {\n    try {\n      const { data } = await axios.get(\n        `${BASE_URL}/movie/${id}?api_key=${API_KEY}&language=en-US`,\n      );\n\n      const results = await data;\n      //добавила фунцкию для получения ключа для показа трейлера для вывода в шаблон\n      const idTrailer = await this.getFilmTrailer(id);\n      // const updateFilm = this.updateInfo(results);\n      return { idTrailer, ...results };\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  // Функція отримує масив об'єктів з повною інформацією про фільми, оновлює необхідні дані для ставки в шаблон і повертає новий масив об'єктів з необхідними даними\n  updateInfo(data) {\n    // проходимося по масиву об'єктів, для кожного об'єкта робимо необхідні зміни і додаємо їх в новий масив\n    const updatedInfo = data.reduce((filmsList, film) => {\n      // перетворюємо release_date в формат '***' (рік)\n      film.release_date = film.release_date.slice(0, -6);\n\n      // film.popularity = Math.floor(Math.ceil(film.popularity * 10)) / 10;\n      // перетворюємо масив об'єктів з жанрами з формате [{ id: name},..., { id: name} ] в формат [name, ..., name]\n      film.genres = this.updateGenres(film.genres);\n      // додаємо змінені об'єкти в  масив\n      if (!film.poster_path) {\n        film.poster_path = PICTURE_REPLACER;\n      } else {\n        film.poster_path = `${IMAGE_BASE_URL}${getImageSize(posterSizes)}/${\n          film.poster_path\n        }`;\n      }\n      filmsList.push(film);\n      return filmsList;\n    }, []);\n    return updatedInfo;\n  },\n\n  // Функція оновлює дані для одного фільма\n  updateOneFilmInfo(data) {\n    const updateFilm = { ...data };\n    // перетворюємо release_date в формат '***' (рік)\n    updateFilm.release_date = updateFilm.release_date.slice(0, -6);\n    // перетворюємо масив об'єктів з жанрами з формате [{ id: name},..., { id: name} ] в формат [name, ..., name]\n    updateFilm.genres = updateFilm.genres.map(({ name }) => name);\n    // Робимо заголовок великими\n    updateFilm.original_title = updateFilm.original_title.toUpperCase();\n    // Округлюємо популярність до десятих\n    updateFilm.popularity =\n      Math.floor(Math.ceil(updateFilm.popularity * 10)) / 10;\n    // додаємо змінені об'єкти в  масив\n    if (!updateFilm.poster_path) {\n      updateFilm.poster_path = PICTURE_REPLACER;\n    } else {\n      updateFilm.poster_path = `${IMAGE_BASE_URL}${getImageSize(posterSizes)}/${\n        updateFilm.poster_path\n      }`;\n    }\n    return updateFilm;\n  },\n\n  // Функція повертає id всіх фільмів\n  async getFilmiIdList(url) {\n    try {\n      // 404, 500 Error Handlers\n      const request = await axios.get(url);\n      if (request.status === 404) {\n        error404Handler();\n      }\n      if (request.status === 500) {\n        error500Handler();\n      }\n\n      const { data } = await axios.get(url);\n      const { results } = await data;\n      const filmIdList = results.map(({ id }) => id);\n      return filmIdList;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  //согласно макета если жанров 3 -высвечиваются все 3 жанра,если больше - 2 слова плюс Other\n  updateGenres(genres) {\n    const result = genres.reduce((genresList, genre, index) => {\n      const { name } = genre;\n      if (index === 3) {\n        const tooManyGenres = 'Other';\n        genresList[2] = tooManyGenres;\n        return genresList;\n      } else if (index > 3) {\n        return genresList;\n      }\n\n      genresList.push(name);\n      return genresList;\n    }, []);\n\n    return result;\n  },\n\n  get query() {\n    return this.searchQuery;\n  },\n  set query(search) {\n    this.searchQuery = search;\n  },\n\n  resetPage() {\n    this.page = 1;\n  },\n\n  // запрос по айди фильма для получения ключей всех видео о фильме\n  async getFilmTrailer(id) {\n    const { data } = await axios.get(\n      `/movie/${id}/videos?api_key=${API_KEY}&language=en-US`,\n    );\n    const { results } = data;\n    //оставила самый популярный трейлер для показа\n    const trailer = results[0];\n\n    return trailer.key;\n  },\n};\n","import refs from './refs';\n\nconst container = refs.divModal;\n\nexport function showTrailer() {\n  const buttonOpenRef = container.querySelector('button[data-action=open]');\n  const buttonCloseRef = container.querySelector('button[data-action=close]');\n  const backdropRef = container.querySelector('.trailer-backdrop');\n  const trailerModalContainer = container.querySelector('.trailer');\n  const video = container.querySelector('.video');\n  const videoSrc = video.src;\n  const modalOverlay = document.querySelector('.modal__overlay');\n\n  buttonOpenRef.addEventListener('click', onOpenModal);\n  buttonCloseRef.addEventListener('click', onCloseModal);\n  backdropRef.addEventListener('click', onBackDropClick);\n  modalOverlay.addEventListener('click', onBackDropClick);\n\n  function onOpenModal() {\n    video.src = videoSrc;\n    trailerModalContainer.classList.add('show-modal');\n  }\n\n  function onCloseModal() {\n    video.src = '';\n    trailerModalContainer.classList.remove('show-modal');\n  }\n\n  function onBackDropClick(event) {\n    if (event.target === event.currentTarget) {\n      onCloseModal();\n    }\n  }\n}\n","import '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport { success } from '@pnotify/core';\n\nfunction successLoginHandler() {\n  success({\n    text: 'Logged-in successfully',\n    delay: 1000,\n    mouseReset: true,\n    closer: true,\n    remove: true,\n    destroy: true,\n  });\n}\n\nfunction successLogoutHandler() {\n  success({\n    text: 'Logged-out successfully',\n    delay: 1000,\n    mouseReset: true,\n    closer: true,\n    remove: true,\n    destroy: true,\n  });\n}\n\nfunction successAddQueueHandler() {\n  success({\n    text: 'You added this film to Queue!',\n    delay: 2000,\n    mouseReset: true,\n    closer: false,\n    remove: true,\n    destroy: true,\n  });\n}\n\nfunction successAddWatchedHandler() {\n  success({\n    text: 'You added this film to Watch!',\n    delay: 2000,\n    mouseReset: true,\n    closer: false,\n    remove: true,\n    destroy: true,\n  });\n}\n\nfunction successRemoveQueueHandler() {\n  success({\n    text: 'Film was successfully from Queue',\n    delay: 2000,\n    mouseReset: true,\n    closer: false,\n    remove: true,\n    destroy: true,\n  });\n}\n\nfunction successRemoveWatchedHandler() {\n  success({\n    text: 'Film was successfully removed from Watched',\n    delay: 2000,\n    mouseReset: true,\n    closer: false,\n    remove: true,\n    destroy: true,\n  });\n}\n\nexport {\n  successLoginHandler,\n  successLogoutHandler,\n  successAddQueueHandler,\n  successAddWatchedHandler,\n  successRemoveQueueHandler,\n  successRemoveWatchedHandler,\n};\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport refs from './refs';\nimport { successLoginHandler, successLogoutHandler } from './util/success';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDQrwCAXRj5z9sNE9veCql6qr3bmszhNFY',\n  authDomain: 'filmoteka-project.firebaseapp.com',\n  databaseURL: 'https://filmoteka-project-default-rtdb.firebaseio.com',\n  projectId: 'filmoteka-project',\n  storageBucket: 'filmoteka-project.appspot.com',\n  messagingSenderId: '1026378840836',\n  appId: '1:1026378840836:web:8e08307292eb95ad9f2e51',\n  measurementId: 'G-JWBVEWQR7T',\n};\n\nfirebase.initializeApp(firebaseConfig);\ninitApp();\n\nrefs.signInBtn.addEventListener('click', googleSignIn);\nrefs.signOutBtn.addEventListener('click', googleSignOut);\n\nfunction initApp() {\n  firebase.auth().onAuthStateChanged(function (user) {\n    if (user) {\n      // SIGN IN\n      refs.signOutBtn.classList.remove('hide');\n      refs.signInBtn.classList.add('hide');\n      const displayName = user.displayName;\n      const photoURL = user.photoURL;\n      const email = user.email;\n      const uid = user.uid;\n      refs.userInfo.innerHTML = `<img class=\"user-img\" src=\"${photoURL}\"> \n            <div class=\"user-block\">\n              <p class=\"user-name\">${displayName}</p>\n              <p class=\"user-email\">${email}</p>\n            </div>`;\n      console.log(`Current user: ${displayName}`, `userId: ${uid}`);\n      readUserData(uid);\n    } else {\n      // SIGN OUT\n      refs.signInBtn.classList.remove('hide');\n      refs.signOutBtn.classList.add('hide');\n      refs.userInfo.innerHTML = '';\n    }\n  });\n}\n\nfunction googleSignIn() {\n  const provider = new firebase.auth.GoogleAuthProvider();\n  firebase\n    .auth()\n    .signInWithPopup(provider)\n    .then(result => {\n\n      const credential = result.credential;\n      // This gives you a Google Access Token. You can use it to access the Google API.\n      const token = credential.accessToken;\n      // The signed-in user info.\n      const user = result.user;\n      const userId = user.uid;\n      const name = user.displayName;\n      const email = user.email;\n      const imageUrl = user.photoURL;\n\n      console.log(user);\n      console.log('Success!');\n\n      // Перевірка чи є вже юзер в БД, якшо неа то добавляє\n      checkUserID().then(data => {\n        if (data.exists()) {\n          console.log('User exist in database');\n          // Завантажує данні з БД\n          readUserData(userId);\n        } else {\n          console.log('User NOT exist in database');\n          writeUserData(userId, name, email, imageUrl);\n        }\n      });\n\n      //! Sign in notification\n      setTimeout(successLoginHandler, 1000);\n    })\n    .catch(error => {\n      // Handle Errors here.\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      // The email of the user's account used.\n      const email = error.email;\n      // The firebase.auth.AuthCredential type that was used.\n      const credential = error.credential;\n      console.log(errorMessage);\n      console.log('Failed!');\n    });\n}\n\nfunction googleSignOut() {\n  firebase\n    .auth()\n    .signOut()\n    .then(() => {\n      console.log('Sign-out successful.');\n      //   window.location.href = 'index.html';\n      refs.userInfo.innerHTML = '';\n    })\n    .catch(error => {\n      console.log('ERRROR!');\n    });\n\n\n\n  // !Sign out notification\n  setTimeout(successLogoutHandler, 500);\n}\n\n// ОТРИМУЄ ДАННІ ЮЗЕРА ПО АЙДІ З БД\nfunction checkUserID() {\n  const userId = firebase.auth().currentUser.uid;\n  return firebase\n    .database()\n    .ref('/users/' + userId)\n    .once('value');\n}\n\n// ЗАПИСУЄ ОСНОВНУ ІНФУ ПО ЮЗЕР В БД, ТІЛЬКИ ПРИ РЕЄСТРАЦІЇ ПЕРШОМУ ВХОДІ\n\nfunction writeUserData(userId, name, email, imageUrl) {\n  firebase\n    .database()\n    .ref('users/' + userId)\n    .set(\n      {\n        username: name,\n        email: email,\n        profile_picture: imageUrl,\n      },\n      error => {\n        if (error) {\n          console.log('FAILED!!!');\n        } else {\n          console.log('SUCCESS');\n        }\n      },\n    );\n}\n\nfunction readUserData(userId) {\n  return firebase\n    .database()\n    .ref('/users/' + userId)\n    .once('value');\n}\n\nexport { initApp, readUserData, checkUserID };\n","import refs from './refs';\n\nconst getListFilmsWatched = () => {\n  const currentList = localStorage.getItem('watch');\n  const watch = JSON.parse(currentList);\n  if (!watch) {\n    return;\n  }\n  const listWatch = watch.map(item => {\n    return item['filmWatched'];\n  });\n  return listWatch;\n};\n\nconst chekDuplicates = id => {\n  const listfilms = getListFilmsWatched();\n  if (listfilms.indexOf(String(id)) === -1) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst updateList = (currentList, id) => {\n  const watch = JSON.parse(currentList);\n  const filmToAdd = { filmWatched: id };\n  watch.push(filmToAdd);\n  localStorage.setItem('watch', JSON.stringify(watch));\n};\nconst addFilmHandlerWatched = id => {\n  const currentList = localStorage.getItem('watch');\n  if (!currentList) {\n    const watch = [{ filmWatched: id }];\n    localStorage.setItem('watch', JSON.stringify(watch));\n  } else {\n    if (chekDuplicates(id)) {\n      updateList(currentList, id);\n    }\n  }\n};\n\nconst deleteFilmHandlerWatched = id => {\n  const filmList = getListFilmsWatched();\n  const indexToDelete = filmList.indexOf(id);\n  const currentList = localStorage.getItem('watch');\n  const watch = JSON.parse(currentList);\n  watch.splice(indexToDelete, 1);\n  localStorage.setItem('watch', JSON.stringify(watch));\n};\nexport { addFilmHandlerWatched, deleteFilmHandlerWatched, getListFilmsWatched };\n","import refs from './refs';\n\nconst getListFilmsQueue = () => {\n  const currentList = localStorage.getItem('queue');\n\n  const queue = JSON.parse(currentList);\n  if (!queue) {\n    return;\n  }\n  const listQueue = queue.map(item => {\n    return item['filmQueue'];\n  });\n  return listQueue;\n};\n\nconst chekDuplicates = id => {\n  const listfilms = getListFilmsQueue();\n  if (listfilms.indexOf(String(id)) === -1) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst updateList = (currentList, id) => {\n  const queue = JSON.parse(currentList);\n  const filmToAdd = { filmQueue: id };\n  queue.push(filmToAdd);\n  localStorage.setItem('queue', JSON.stringify(queue));\n};\nconst addFilmHandlerQueue = id => {\n  const currentList = localStorage.getItem('queue');\n  if (!currentList) {\n    const queue = [{ filmQueue: id }];\n    localStorage.setItem('queue', JSON.stringify(queue));\n  } else {\n    if (chekDuplicates(id)) {\n      updateList(currentList, id);\n    }\n  }\n};\n\nconst deleteFilmHandlerQueue = id => {\n  const filmList = getListFilmsQueue();\n  const indexToDelete = filmList.indexOf(id);\n  const currentList = localStorage.getItem('queue');\n  const queue = JSON.parse(currentList);\n  queue.splice(indexToDelete, 1);\n  localStorage.setItem('queue', JSON.stringify(queue));\n};\nexport { addFilmHandlerQueue, deleteFilmHandlerQueue, getListFilmsQueue };\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport refs from './refs';\nimport * as auth from './authFirebase';\nimport {\n  successAddQueueHandler,\n  successAddWatchedHandler,\n} from './util/success';\n\nimport {\n  addFilmHandlerWatched,\n  deleteFilmHandlerWatched,\n  getListFilmsWatched,\n} from './localStorageWatched';\nimport {\n  addFilmHandlerQueue,\n  deleteFilmHandlerQueue,\n  getListFilmsQueue,\n} from './localStorageQueue';\n\n//ЗБЕРЕЖЕННЯ АЙДІШНІКА В БД\nfunction addToWatch() {\n  const currentUser = firebase.auth().currentUser;\n\n  if (currentUser) {\n    let uid = currentUser.uid;\n    let movieId = localStorage.getItem('firebase-id');\n\n    auth\n      .readUserData(uid)\n      .then(data => data.val())\n      .then(data => {\n        let watched = data.watched || [];\n        if (watched.includes(movieId)) {\n          return;\n        }\n        updateWatchedList(uid, [...watched, movieId]);\n      });\n  } else {\n    let movieId = localStorage.getItem('firebase-id');\n    addFilmHandlerWatched(movieId);\n  }\n  setTimeout(successAddWatchedHandler, 300);\n}\n\n//ЗБЕРЕЖЕННЯ АЙДІШНІКА В БД\nfunction addToQueue() {\n  const currentUser = firebase.auth().currentUser;\n  if (currentUser) {\n    let uid = currentUser.uid;\n    let movieId = localStorage.getItem('firebase-id');\n\n    auth\n      .readUserData(uid)\n      .then(data => data.val())\n      .then(data => {\n        let queue = data.queue || [];\n        if (queue.includes(movieId)) {\n          return;\n        }\n        updateQueueList(uid, [...queue, movieId]);\n      });\n  } else {\n    let movieId = localStorage.getItem('firebase-id');\n    addFilmHandlerQueue(movieId);\n  }\n  setTimeout(successAddQueueHandler, 300);\n}\n\n//ФУНКЦІЯ ДЛЯ ОНОВЛЕННЯ СПИСКУ АЙДІШНІКІВ В БД\nfunction updateWatchedList(userId, movieId) {\n  firebase\n    .database()\n    .ref('users/' + userId)\n    .update(\n      {\n        watched: movieId,\n      },\n      error => {\n        if (error) {\n          console.log('FAIL!');\n        } else {\n          console.log('DATA UPDATE SUCCESSFULLY');\n        }\n      },\n    );\n}\n\n//ФУНКЦІЯ ДЛЯ ОНОВЛЕННЯ СПИСКУ АЙДІШНІКІВ В БД\nfunction updateQueueList(userId, movieId) {\n  firebase\n    .database()\n    .ref('users/' + userId)\n    .update(\n      {\n        queue: movieId,\n      },\n      error => {\n        if (error) {\n          console.log('FAIL!');\n        } else {\n          console.log('DATA UPDATE SUCCESSFULLY');\n        }\n      },\n    );\n}\n\nexport { addToWatch, updateWatchedList, addToQueue, updateQueueList };\n","import '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport { alert } from '@pnotify/core';\n\nfunction warningSignInHandler() {\n  alert({\n    text: 'You are already logged-in!',\n    delay: 3000,\n    mouseReset: true,\n    closer: false,\n    remove: true,\n    destroy: true,\n  });\n}\n\nfunction warningRemoveQueueHandler() {\n  alert({\n    text: 'You removed this film from Queue!',\n    delay: 3000,\n    mouseReset: true,\n    closer: false,\n    remove: true,\n    destroy: true,\n  });\n}\n\nfunction warningRemoveWatchedHandler() {\n  alert({\n    text: 'You removed this film from Watch!!',\n    delay: 3000,\n    mouseReset: true,\n    closer: false,\n    remove: true,\n    destroy: true,\n  });\n}\n\nexport { warningSignInHandler, warningRemoveQueueHandler, warningRemoveWatchedHandler };\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport axios from 'axios';\nconst apiKey = '44fd846a8fbd886b31f763260ef2b77b';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nimport refs from './refs.js';\nimport * as auth from './authFirebase';\nimport * as dataToFirebase from './dataToFirebase.js';\nimport {\n  warningRemoveQueueHandler,\n  warningRemoveWatchedHandler,\n} from './util/warnings';\n\nimport { emptyLibrary } from './util/errors';\n\nimport api from '../apiServises/api';\nimport noFilmTemplate from '../templates/no-film.hbs';\n\nimport {\n  addFilmHandlerWatched,\n  deleteFilmHandlerWatched,\n  getListFilmsWatched,\n} from './localStorageWatched';\nimport {\n  addFilmHandlerQueue,\n  deleteFilmHandlerQueue,\n  getListFilmsQueue,\n} from './localStorageQueue';\n\n//ФУКНЦІЯ ЯКА ПЕРЕВІРЯЄ ЧИ Є В БД АЙДІШНИК ПО ЯКОМУ КЛІКНУЛИ\n//І РОБИТЬ ВІДПОВІДНІ СТИЛІ ДЛЯ КНОПОК\nfunction setModalBtnWatchStyles(event, button, hiddenBtn) {\n  if (event.target === button) {\n    button.classList.add('hide');\n    hiddenBtn.classList.remove('hide');\n    dataToFirebase.addToWatch();\n    console.log(123);\n    return;\n  }\n\n  if (event.target === hiddenBtn) {\n    button.classList.remove('hide');\n    hiddenBtn.classList.add('hide');\n    removeFromWatch();\n    return;\n  }\n}\n\nfunction setModalBtnQueueStyles(event, button, hiddenBtn) {\n  if (event.target === button) {\n    button.classList.add('hide');\n    hiddenBtn.classList.remove('hide');\n    dataToFirebase.addToQueue();\n  }\n\n  if (event.target === hiddenBtn) {\n    button.classList.remove('hide');\n    hiddenBtn.classList.add('hide');\n    removeFromQueue();\n  }\n}\n\n// ФУНКЦІЯ ДЛЯ ЩОБ ОТРИМАТИ АЙДІШНИКИ З БД І ПО НИМ ЗРОБИТИ ЗАПИТ НА СЕРВЕР\n// ТА ВІД РЕНДЕРИТИ РОЗМІТКУ ПО ОТРИМАНИХ ДАННИХ\nasync function getMoviesWatched(uid = false) {\n  const currentUser = firebase.auth().currentUser;\n  // console.log(currentUser);\n  let watched = getListFilmsWatched();\n\n  if (currentUser) {\n    const authoried = await auth.readUserData(uid);\n    const data = await authoried.val();\n    watched = (await data.watched) || [];\n  }\n  if (!watched || watched.length === 0) {\n    const markup = noFilmTemplate();\n    refs.gallery.insertAdjacentHTML('beforeend', markup);\n\n    setTimeout(emptyLibrary, 300);\n    return;\n  }\n  const promises = watched.map(id =>\n    api.showFilmDetails(id).then(data => api.updateOneFilmInfo(data)),\n  );\n  // отримуємо масив промісів з об'єктами, в яких є повна інформація про фільм\n  const updatedWatched = await Promise.all(promises);\n  console.log(updatedWatched);\n  return updatedWatched;\n}\n\nasync function getMoviesQueue(uid = false) {\n  const currentUser = firebase.auth().currentUser;\n  let queued = getListFilmsQueue();\n\n  if (currentUser) {\n    const authoried = await auth.readUserData(uid);\n    const data = await authoried.val();\n    queued = (await data.queue) || [];\n  }\n  if (!queued || queued.length === 0) {\n    const markup = noFilmTemplate();\n    refs.gallery.insertAdjacentHTML('beforeend', markup);\n\n    setTimeout(emptyLibrary, 300);\n    return;\n  }\n\n  const promises = queued.map(id =>\n    api.showFilmDetails(id).then(data => api.updateOneFilmInfo(data)),\n  );\n  // отримуємо масив промісів з об'єктами, в яких є повна інформація про фільм\n  const updatedQueued = await Promise.all(promises);\n  return updatedQueued;\n}\n\n// ФУНКЦІЯ ЯКА ЧИСТИТЬ РОЗМІТКУ\n// ВИДАЛЯЄ АЙДІШНИК ФІЛЬМА НА ЯКОМУ КЛІКНУЛИ КНОПКУ З БД\n// І РЕНДЕРИТЬ НОВУ РОЗМІТКУ ПО АЙДІШНИКАХ ЯКІ ЛИШИЛИСЬ В БД\nfunction removeFromWatch() {\n  const currentUser = firebase.auth().currentUser;\n  if (currentUser) {\n    // refs.gallery.innerHTML = '';\n    let uid = currentUser.uid;\n    let movieId = localStorage.getItem('firebase-id');\n    auth\n      .readUserData(uid)\n      .then(data => data.val())\n      .then(data => {\n        if (data.watched) {\n          let watched = data.watched || [];\n          if (watched.includes(movieId)) {\n            let movieIndex = watched.indexOf(movieId);\n            watched.splice(movieIndex, 1);\n            console.log('NEW WATCHED', watched);\n          }\n          dataToFirebase.updateWatchedList(uid, [...watched]);\n          // myLibrary.renderWatched();\n        }\n      });\n    // console.log(watched);\n  } else {\n    let movieId = localStorage.getItem('firebase-id');\n    deleteFilmHandlerWatched(movieId);\n  }\n  setTimeout(warningRemoveWatchedHandler, 300);\n}\n\nfunction removeFromQueue() {\n  const currentUser = firebase.auth().currentUser;\n  if (currentUser) {\n    // refs.gallery.innerHTML = '';\n    let uid = currentUser.uid;\n    let movieId = localStorage.getItem('firebase-id');\n    auth\n      .readUserData(uid)\n      .then(data => data.val())\n      .then(data => {\n        if (data.queue) {\n          let queue = data.queue || [];\n          if (queue.includes(movieId)) {\n            let movieIndex = queue.indexOf(movieId);\n            queue.splice(movieIndex, 1);\n            console.log('NEW QUEUE', queue);\n          }\n          dataToFirebase.updateQueueList(uid, [...queue]);\n          // myLibrary.renderQueue();\n        }\n      });\n    // console.log(queue);\n  } else {\n    let movieId = localStorage.getItem('firebase-id');\n    deleteFilmHandlerQueue(movieId);\n  }\n  setTimeout(warningRemoveQueueHandler, 300);\n}\n\nexport {\n  getMoviesWatched,\n  removeFromWatch,\n  getMoviesQueue,\n  removeFromQueue,\n  setModalBtnWatchStyles,\n  setModalBtnQueueStyles,\n};\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport refs from './refs.js';\nimport * as auth from './authFirebase';\nimport * as dataToFirebase from './dataToFirebase.js';\nimport * as dataFromFirebase from './dataFromFirebase';\n\nimport {\n  addFilmHandlerQueue,\n  deleteFilmHandlerQueue,\n  getListFilmsQueue,\n} from './localStorageQueue';\nimport {\n  addFilmHandlerWatched,\n  deleteFilmHandlerWatched,\n  getListFilmsWatched,\n} from './localStorageWatched';\n\nconst container = refs.divModal;\n\n// container.addEventListener('click', modalClick)\n\n//ФУНКЦІЯ ДЛЯ ОБРОБКИ КЛІКІВ ПО КНОПКАХ В МОДАЛЦІ\nfunction modalMagic() {\n  const addBtnWatch = container.querySelector('button[data-id=addwatched]');\n  const removeBtnWatch = container.querySelector(\n    'button[data-id=removewatched]',\n  );\n  const addBtnQueue = container.querySelector('button[data-id=addqueue]');\n  const removeBtnQueue = container.querySelector('button[data-id=removequeue]');\n  // console.log(addBtnWatch)\n\n  container.addEventListener('click', event => {\n    dataFromFirebase.setModalBtnWatchStyles(event, addBtnWatch, removeBtnWatch);\n    dataFromFirebase.setModalBtnQueueStyles(event, addBtnQueue, removeBtnQueue);\n  });\n}\n// }\n\n//ФУНКЦІЯ ДЛЯ ПЕРЕВІРКИ ЧИ Є АЙДІШНИК В БД І ВІДПОВІДНО\n//ЯКІ КНОПКИ ПОКАЗУВАТИ В МОДАЛЦІ\nfunction checkMovieInStorage(\n  addBtnWatch,\n  removeBtnWatch,\n  addBtnQueue,\n  removeBtnQueue,\n) {\n  let currentUser = firebase.auth().currentUser;\n  if (!currentUser) {\n    checkMovieInLocalStorage(\n      addBtnWatch,\n      removeBtnWatch,\n      addBtnQueue,\n      removeBtnQueue,\n    );\n    return;\n  }\n\n  let id = localStorage.getItem('firebase-id');\n\n  auth\n    .readUserData(currentUser.uid)\n    .then(data => data.val())\n    .then(data => {\n      if (data.watched || data.queue) {\n        console.log('we are in!');\n        const dataFromWatched = data.watched || [];\n        const dataFromQueue = data.queue || [];\n        console.log('ok');\n\n        const addBtnWatch = container.querySelector(\n          'button[data-id=addwatched]',\n        );\n        const removeBtnWatch = container.querySelector(\n          'button[data-id=removewatched]',\n        );\n        const addBtnQueue = container.querySelector('button[data-id=addqueue]');\n        const removeBtnQueue = container.querySelector(\n          'button[data-id=removequeue]',\n        );\n\n        if (dataFromWatched.includes(id)) {\n          if (!addBtnWatch.classList.contains('hide')) {\n            addBtnWatch.classList.add('hide');\n            removeBtnWatch.classList.remove('hide');\n            // addToWatched.textContent = \"ALREADY IN WATCHED\";\n            // addToWatched.setAttribute(\"disabled\", 'true');\n          }\n        } else {\n          addBtnWatch.classList.remove('hide');\n          removeBtnWatch.classList.add('hide');\n        }\n        if (dataFromQueue.includes(id)) {\n          if (!addBtnQueue.classList.contains('hide')) {\n            addBtnQueue.classList.add('hide');\n            removeBtnQueue.classList.remove('hide');\n            // addToQueue.textContent = \"ALREADY IN QUEUE\";\n            // addToQueue.setAttribute(\"disabled\", 'true');\n          }\n        } else {\n          addBtnQueue.classList.remove('hide');\n          removeBtnQueue.classList.add('hide');\n        }\n      }\n    });\n}\nfunction checkMovieInLocalStorage(\n  addBtnWatch,\n  removeBtnWatch,\n  addBtnQueue,\n  removeBtnQueue,\n) {\n  let id = localStorage.getItem('firebase-id');\n  const dataFromWatched = getListFilmsWatched() || [];\n  const dataFromQueue = getListFilmsQueue() || [];\n\n  if (dataFromWatched.includes(id)) {\n    if (!addBtnWatch.classList.contains('hide')) {\n      addBtnWatch.classList.add('hide');\n      removeBtnWatch.classList.remove('hide');\n    }\n  } else {\n    addBtnWatch.classList.remove('hide');\n    removeBtnWatch.classList.add('hide');\n  }\n  if (dataFromQueue.includes(id)) {\n    if (!addBtnQueue.classList.contains('hide')) {\n      addBtnQueue.classList.add('hide');\n      removeBtnQueue.classList.remove('hide');\n    }\n  } else {\n    addBtnQueue.classList.remove('hide');\n    removeBtnQueue.classList.add('hide');\n  }\n}\nexport { checkMovieInStorage, modalMagic, checkMovieInLocalStorage };\n","import MicroModal from 'micromodal';\nimport filmTpl from '../templates/modal.hbs';\nimport refs from './refs';\nimport apiService from '../apiServises/api';\nimport { showTrailer } from './show-trailer';\nimport * as mainFirebase from './mainFirebase';\n\nrefs.gallery.addEventListener('click', openModal);\n\nexport function openModal(event) {\n  if (event.target.nodeName === 'UL') {\n    return;\n  }\n  showModal(event);\n\n  MicroModal.show('modal-1', {\n    // onShow: modal => console.info(`${modal.id} is shown`), // [1]\n    // onClose: modal => console.info(`${modal.id} is hidden`), // [2]\n    disableScroll: true, // [6]\n    disableFocus: true, // [7]\n  });\n}\n\nexport function showModal(event) {\n  const element = event.target;\n  const id = element.dataset.id;\n  localStorage.setItem('firebase-id', id);\n  // mainFirebase.checkMovieInStorage(id);\n  // console.log(id);\n  apiService\n    .showFilmDetails(id)\n    .then(data => apiService.updateOneFilmInfo(data))\n    //  .then(console.log)\n    .then(data => updateData(data))\n    .then(data => {\n      const container = refs.divModal;\n      const addBtnWatch = container.querySelector('button[data-id=addwatched]');\n      const removeBtnWatch = container.querySelector(\n        'button[data-id=removewatched]',\n      );\n      const addBtnQueue = container.querySelector('button[data-id=addqueue]');\n      const removeBtnQueue = container.querySelector(\n        'button[data-id=removequeue]',\n      );\n      mainFirebase.checkMovieInStorage(\n        addBtnWatch,\n        removeBtnWatch,\n        addBtnQueue,\n        removeBtnQueue,\n      );\n\n      return data;\n    })\n    .then(data => {\n      mainFirebase.modalMagic();\n      return data;\n    })\n    .then(showTrailer);\n  refs.divModal.innerHTML = '';\n}\n\nfunction updateData(data) {\n  const markup = filmTpl(data);\n  refs.divModal.insertAdjacentHTML('beforeend', markup);\n  return markup;\n}\n","import filmCardTpl from '../templates/gallery-item-template.hbs';\nimport refs from './refs';\n\nfunction updateGalleryMarkup(films) {\n  const markup = filmCardTpl(films);\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n  return markup;\n}\n\nexport default updateGalleryMarkup;\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport api from '../apiServises/api';\nimport updateGalleryMarkup from './update-markup';\nimport axios from 'axios';\nimport { BASE_URL, API_KEY } from '../apiServises/api-variables';\nimport refs from './refs';\n\nconst startPage = 1;\nlet screenSize = document.documentElement.clientWidth;\nconst options = {\n  totalItems: 1,\n  itemsPerPage: 1,\n  visiblePages: 3,\n  page: 1,\n\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n};\n\nconst addPaginationButtons = () => {\n  if (screenSize >= 320 && screenSize < 768) {\n    return (options.visiblePages = 3);\n  }\n  if (screenSize >= 768 && screenSize < 1024) {\n    return (options.visiblePages = 6);\n  }\n  if (screenSize >= 1024) {\n    return (options.visiblePages = 9);\n  }\n};\n\nconst addItems = array => {\n  if (screenSize >= 320 && screenSize < 768) {\n    return array.map(film => film).slice(0, 4);\n  }\n  if (screenSize >= 768 && screenSize < 1024) {\n    return array.map(film => film).slice(0, 8);\n  }\n  if (screenSize >= 1024) {\n    return array.map(film => film).slice(0, 9);\n  }\n};\n\nconst addPagination = url => {\n  const pagination = new Pagination('pagination', options);\n  pagination.on('beforeMove', async evt => {\n    const { page } = evt;\n    const data = await api.getUpdatedFilms(api.getUrl(page)[url]);\n    const results = addItems(data);\n    console.log(results);\n    if (results) {\n      refs.gallery.innerHTML = '';\n\n      refs.spinner.classList.remove('hide');\n      window.scrollTo({\n        top: document.documentElement.offsetHeight,\n        behavior: 'smooth',\n      });\n      updateGalleryMarkup(results);\n      refs.spinner.classList.add('hide');\n    } else {\n      return false;\n    }\n  });\n};\n\nconst startPagination = async url => {\n  const { data } = await axios.get(api.getUrl(startPage)[url]);\n  const { total_pages } = await data;\n  options.totalItems = total_pages;\n\n  addPagination(url);\n};\naddPaginationButtons();\nexport { startPage, addItems, startPagination };\n","import '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport { info } from '@pnotify/core';\n\nfunction emptyFilmListHandler() {\n  info({\n    text: 'No matches found. Please, try another search query!',\n    delay: 4000,\n    mouseReset: true,\n    closer: true,\n  });\n}\n\nexport { emptyFilmListHandler };\n","import updateGalleryMarkup from './update-markup';\nimport api from '../apiServises/api';\nimport refs from './refs';\nimport { addItems } from './pagination';\nimport { emptyFilmListHandler } from './util/infos';\n\nasync function showFilmsByQuery() {\n  const data = await api.getUpdatedFilms(api.getUrl(1).searchUrl);\n  // Notification\n\n  if (data.length === 0) {\n    emptyFilmListHandler();\n  }\n  const results = addItems(data);\n  updateGalleryMarkup(results);\n  refs.spinner.classList.add('hide');\n  refs.spinnerInversion.classList.add('hide');\n}\nexport default showFilmsByQuery;\n","import apiService from '../apiServises/api';\nimport updateGalleryMarkup from './update-markup';\nimport refs from './refs';\nimport { addItems, startPagination } from './pagination';\n\nrefs.logoBtn.addEventListener('click', handlePopularFilmsByClick);\nrefs.homeBtn.addEventListener('click', handlePopularFilmsByClick);\n\nfunction handlePopularFilmsByClick() {\n  refs.gallery.innerHTML = '';\n  const theme = localStorage.getItem('Theme');\n  if (theme === 'light-theme') {\n    refs.spinner.classList.remove('hide');\n  } else {\n    refs.spinnerInversion.classList.remove('hide');\n  }\n  // apiService.resetPage();\n  loadPopularFilms();\n}\n\nasync function loadPopularFilms() {\n  const data = await apiService.getUpdatedFilms(\n    apiService.getUrl(1).popylarFilmsUrl,\n  );\n  const results = addItems(data);\n  updateGalleryMarkup(results);\n  refs.spinner.classList.add('hide');\n  refs.spinnerInversion.classList.add('hide');\n  refs.paginator.classList.remove('hide');\n}\n\nloadPopularFilms();\nstartPagination('popylarFilmsUrl');\n","import api from '../apiServises/api';\nimport showFilmsByQuery from './Films-by-query';\nimport refs from './refs';\nimport { startPagination } from './pagination';\nrefs.searchForm.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  refs.searchList.classList.add('is-hidden');\n  const form = event.currentTarget;\n  api.query = form.elements.query.value;\n  refs.gallery.textContent = '';\n\n  const theme = localStorage.getItem('Theme');\n  if (theme === 'light-theme') {\n    refs.spinner.classList.remove('hide');\n  } else {\n    refs.spinnerInversion.classList.remove('hide');\n  }\n  api.resetPage();\n  showFilmsByQuery();\n  startPagination('searchUrl');\n}\n","import refs from './refs';\nimport debounce from 'lodash.debounce';\nimport api from '../apiServises/api';\nimport searchListTpl from '../templates/search-list.hbs';\nimport { showModal } from '../js/modal-single-film';\nimport MicroModal from 'micromodal';\nimport { emptyFilmListHandler } from './util/infos';\n\nrefs.input.addEventListener('input', debounce(predicationSearch, 500));\n\nfunction predicationSearch() {\n  console.log('work');\n  api.searchQuery = refs.input.value;\n\n  refs.searchList.innerHTML = '';\n  if (!refs.input.value) {\n    refs.searchList.classList.add('is-hidden');\n    return;\n  }\n  api.getUpdatedFilms(api.getUrl().searchUrl).then(filmList => {\n    refs.searchList.classList.remove('is-hidden');\n    if (!filmList.length) {\n      refs.searchList.classList.add('is-hidden');\n      return;\n    }\n    const updatedFilmList = filmList.slice(0, 5);\n    const markup = searchListTpl(updatedFilmList);\n    refs.searchList.insertAdjacentHTML('beforeend', markup);\n  });\n}\n\nrefs.searchGallery.addEventListener('click', openModal);\n\nexport function openModal(event) {\n  if (event.target.nodeName !== 'LI') {\n    return;\n  }\n  showModal(event);\n\n  MicroModal.show('modal-1', {\n    // onShow: modal => console.info(`${modal.id} is shown`), // [1]\n    // onClose: modal => console.info(`${modal.id} is hidden`), // [2]\n    disableScroll: true, // [6]\n    disableFocus: true, // [7]\n  });\n}\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport refs from './refs';\nimport * as dataFromFirebase from './dataFromFirebase';\nimport updateGalleryMarkup from './update-markup';\n\nconst btnWatched = document.querySelector('.btnWatched');\nconst btnQueue = document.querySelector('.btnQueue');\n\nbtnQueue.addEventListener('click', renderQueue);\nbtnWatched.addEventListener('click', renderWatched);\n\nrefs.libraryBtn.addEventListener('click', showMyLibrary);\n\n//ПОКАЗУЄ БІБЛІОТЕКУ ФІЛЬМІВ\nfunction showMyLibrary() {\n  renderWatched();\n}\n\n// РЕНДЕР ПЕРЕГЛЯНУТИХ ПО АЙДІШНИКАХ З БД\nfunction renderWatched() {\n  refs.paginator.classList.add('hide');\n    const theme = localStorage.getItem('Theme');\n  if (theme === 'light-theme') {\n    refs.spinner.classList.remove('hide');\n  } else {\n    refs.spinnerInversion.classList.remove('hide');\n  }\n  onActive();\n  refs.gallery.innerHTML = '';\n  if (firebase.auth().currentUser) {\n    dataFromFirebase\n      .getMoviesWatched(firebase.auth().currentUser.uid)\n      .then(films => {\n        updateGalleryMarkup(films)\n      })\n      .finally(() => {\n        refs.spinner.classList.add('hide');\n        refs.spinnerInversion.classList.add('hide');\n      });\n  } else {\n    dataFromFirebase\n      .getMoviesWatched()\n      .then(films => updateGalleryMarkup(films))\n      .finally(() => {\n        refs.spinner.classList.add('hide');\n        refs.spinnerInversion.classList.add('hide');\n    });\n  }\n\n  // const movieCard = document.querySelector('.movie-card')\n  // console.log(movieCard);\n}\n\n// РЕНДЕР ТИХ ШО В ЧЕРЗІ ПО АЙДІШНИКАХ З БД\nfunction renderQueue() {\n\n  const theme = localStorage.getItem('Theme');\n  if (theme === 'light-theme') {\n    refs.spinner.classList.remove('hide');\n  } else {\n    refs.spinnerInversion.classList.remove('hide');\n  }\n  addActive();\n  refs.gallery.innerHTML = '';\n  if (firebase.auth().currentUser) {\n    dataFromFirebase\n      .getMoviesQueue(firebase.auth().currentUser.uid)\n      .then(films => updateGalleryMarkup(films))\n      .finally(() => {\n        refs.spinner.classList.add('hide');\n        refs.spinnerInversion.classList.add('hide');\n    });\n  } else {\n    dataFromFirebase.getMoviesQueue()\n      .then(films => updateGalleryMarkup(films))\n      .finally(() => {\n        refs.spinner.classList.add('hide');\n        refs.spinnerInversion.classList.add('hide');\n    });\n  }\n}\n\nfunction addActive() {\n  btnQueue.classList.remove('lib-btn-off');\n  btnQueue.classList.add('lib-btn-active');\n\n  btnWatched.classList.remove('lib-btn-active');\n  btnWatched.classList.add('lib-btn-off');\n}\n\nfunction onActive() {\n  btnWatched.classList.add('lib-btn-active');\n  btnWatched.classList.remove('lib-btn-off');\n\n  btnQueue.classList.add('lib-btn-off');\n  btnQueue.classList.remove('lib-btn-active');\n}\n","import refs from './refs';\n\nrefs.libraryBtn.addEventListener('click', toLibrary);\nrefs.homeBtn.addEventListener('click', toHome);\nrefs.logo.addEventListener('click', toHome);\n// header__wrapper header__wrapper--library\n\nfunction toLibrary(event) {\n  refs.header.classList.remove('header__wrapper');\n  refs.header.classList.add('header__wrapper--library');\n  refs.homeBtn.classList.remove('nav__link--current');\n  refs.libraryBtn.classList.add('nav__link--current');\n  refs.formWrap.classList.add('hide');\n  refs.containerBtnLibrary.classList.remove('hide');\n}\n\nfunction toHome(event) {\n  refs.header.classList.add('header__wrapper');\n  refs.header.classList.remove('header__wrapper--library');\n  refs.homeBtn.classList.add('nav__link--current');\n  refs.libraryBtn.classList.remove('nav__link--current');\n  refs.formWrap.classList.remove('hide');\n  refs.containerBtnLibrary.classList.add('hide');\n}\n","import { Spinner } from 'spin.js';\r\nimport refs from './refs';\r\n\r\nconst opts = {\r\n  lines: 13, // The number of lines to draw\r\n  length: 28, // The length of each line\r\n  width: 17, // The line thickness\r\n  radius: 34, // The radius of the inner circle\r\n  scale: 0.45, // Scales overall size of the spinner\r\n  corners: 0.7, // Corner roundness (0..1)\r\n  speed: 1, // Rounds per second\r\n  rotate: 1, // The rotation offset\r\n  animation: 'spinner-line-fade-quick', // The CSS animation name for the lines\r\n  direction: 1, // 1: clockwise, -1: counterclockwise\r\n  color: '#000000', // CSS color or array of colors\r\n  fadeColor: 'transparent', // CSS color or array of colors\r\n  top: '0', // Top position relative to parent\r\n  left: '50%', // Left position relative to parent\r\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\r\n  zIndex: 2000000000, // The z-index (defaults to 2e9)\r\n  className: 'spinner', // The CSS class to assign to the spinner\r\n  position: 'absolute', // Element positioning\r\n};\r\n\r\nconst opts2 = { ...opts, color: '#ffffff' };\r\n\r\nnew Spinner(opts).spin(refs.spinner);\r\nnew Spinner(opts2).spin(refs.spinnerInversion);\r\n\r\n","// Рендер модали футера\n\nimport MicroModal from 'micromodal';\n\nfunction footerModalHandler(selector) {\n  const studentsButton = document.querySelector(selector);\n\n  function onOpen() {\n    MicroModal.show('modal-footer', {\n      // onShow: modal => console.info(`${modal.id} is shown`), // [1]\n      // onClose: modal => console.info(`${modal.id} is hidden`), // [2]\n      disableScroll: true, // [6]\n      disableFocus: true, // [7]\n    });\n  }\n\n  studentsButton.addEventListener('click', () => onOpen(selector));\n}\n\nfooterModalHandler('.githubs');\n\nexport default footerModalHandler;\n","import refs from './refs';\r\nconst Theme = {\r\n  LIGHT: 'light-theme',\r\n  DARK: 'dark-theme',\r\n};\r\n\r\nrefs.toolbar.addEventListener('change', changeTheme);\r\n\r\nfunction changeTheme() {\r\n  if (refs.stateCheckbox.checked) {\r\n    activeDarkTheme();\r\n    return;\r\n  }\r\n  activeLightTheme();\r\n}\r\n\r\nconst currentTheme = localStorage.getItem('Theme');\r\nif (currentTheme === Theme.DARK) {\r\n  refs.body.classList.add(Theme.DARK);\r\n  refs.footer.classList.add(Theme.DARK);\r\n  refs.modalThemeFilm.classList.add(Theme.DARK);\r\n  refs.modalThemeFooter.classList.add(Theme.DARK);\r\n\r\n  refs.stateCheckbox.checked = true;\r\n}\r\n\r\nfunction activeDarkTheme() {\r\n  refs.body.classList.add(Theme.DARK);\r\n  refs.body.classList.remove(Theme.LIGHT);\r\n  refs.footer.classList.add(Theme.DARK);\r\n  refs.footer.classList.remove(Theme.LIGHT);\r\n  refs.modalThemeFilm.classList.add(Theme.DARK);\r\n  refs.modalThemeFilm.classList.remove(Theme.LIGHT);\r\n  refs.modalThemeFooter.classList.add(Theme.DARK);\r\n  refs.modalThemeFooter.classList.remove(Theme.LIGHT);\r\n\r\n  localStorage.setItem('Theme', Theme.DARK);\r\n}\r\n\r\nfunction activeLightTheme() {\r\n  refs.body.classList.remove(Theme.DARK);\r\n  refs.body.classList.add(Theme.LIGHT);\r\n  refs.footer.classList.remove(Theme.DARK);\r\n  refs.footer.classList.add(Theme.LIGHT);\r\n  refs.modalThemeFilm.classList.remove(Theme.DARK);\r\n  refs.modalThemeFilm.classList.add(Theme.LIGHT);\r\n  refs.modalThemeFooter.classList.remove(Theme.DARK);\r\n  refs.modalThemeFooter.classList.add(Theme.LIGHT);\r\n\r\n  localStorage.setItem('Theme', Theme.LIGHT);\r\n}\r\n","import { addBackToTop } from 'vanilla-back-to-top';\n\n\n\naddBackToTop({\n  diameter: 56,\n  backgroundColor: '#ff6b08',\n  textColor: '#fff',\n  scrollDuration: 1000,\n  zIndex: 0,\n});\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<p class=\\\"library__no-film\\\">\\n    No films :(\\n</p>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n<li class=\\\"search-list-item\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":43}}}) : helper)))\n    + \">\\n    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":22}}}) : helper)))\n    + \"\\n</li>\\n\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":7,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda(depth0, depth0))\n    + \" \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"modal__document\\\" role=\\\"document\\\">\\n    <header class=\\\"modal__header\\\">\\n        <button class=\\\"modal__close\\\" aria-label=\\\"Close modal\\\" aria-controls=\\\"modal__container1\\\"\\n            data-micromodal-close></button>\\n        <img class=\\\"modal__img\\\" src='\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":37},\"end\":{\"line\":11,\"column\":52}}}) : helper)))\n    + \"' alt='poster \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":66},\"end\":{\"line\":11,\"column\":84}}}) : helper)))\n    + \"'>\\n\\n    </header>\\n\\n    <main class=\\\"modal__content\\\" id=\\\"modal-1-content\\\">\\n        <h2 class=\\\"modal__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":33},\"end\":{\"line\":16,\"column\":42}}}) : helper)))\n    + \"</h2>\\n        <div class=\\\"modal__information\\\">\\n            <table width=\\\"100%\\\" cellspacing=\\\"0\\\" cellpadding=\\\"5\\\">\\n                <tr>\\n                    <td class=\\\"modal__information--text1\\\">Vote/Votes</td>\\n                    <td class=\\\"modal__information--text2\\\"><span\\n                            class=\\\"modal__information--block\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":65},\"end\":{\"line\":22,\"column\":81}}}) : helper)))\n    + \"</span> / \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":91},\"end\":{\"line\":22,\"column\":105}}}) : helper)))\n    + \"</b></td>\\n                </tr>\\n                <tr>\\n                    <td class=\\\"modal__information--text1\\\">Popularity</td>\\n                    <td class=\\\"modal__information--text2\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":61},\"end\":{\"line\":26,\"column\":75}}}) : helper)))\n    + \"</b></td>\\n                </tr>\\n                <tr>\\n                    <td class=\\\"modal__information--text1\\\">Original Title</td>\\n                    <td class=\\\"modal__information--text2\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":61},\"end\":{\"line\":30,\"column\":79}}}) : helper)))\n    + \"</b></td>\\n                </tr>\\n                <tr>\\n                    <td class=\\\"modal__information--text1\\\">Genre</td>\\n                    <td class=\\\"modal__information--text2\\\"><b>\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":61},\"end\":{\"line\":34,\"column\":95}}})) != null ? stack1 : \"\")\n    + \"</b></td>\\n                </tr>\\n                <tr>\\n                    <td><button data-action=\\\"open\\\" class=\\\"modal__button-trailer\\\">Watch trailer</button></td>\\n                </tr>\\n            </table>\\n        </div>\\n\\n        <h3 class=\\\"modal__title2\\\"><b>About</b></h3>\\n        <p class=\\\"modal__text\\\"><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":43,\"column\":34},\"end\":{\"line\":43,\"column\":46}}}) : helper)))\n    + \"</b></p>\\n        <div class=\\\"modal__button-container\\\">\\n            <button id=\\\"add-watched\\\" data-id='addwatched' class=\\\"modal__button1\\\">ADD TO WATCHED</button>\\n            <button id=\\\"remove-watched\\\" data-id='removewatched' class=\\\"modal__button1 modal__button2 hide\\\">REMOVE FROM\\n                WATCHED</button>\\n            <button id=\\\"add-queue\\\" data-id='addqueue' class=\\\"modal__button1\\\">ADD TO QUEUE</button>\\n            <button id=\\\"remove-queue\\\" data-id='removequeue' class=\\\"modal__button1 modal__button2 hide\\\">REMOVE FROM\\n                QUEUE</button>\\n        </div>\\n    </main>\\n</div>\\n\\n<div class=\\\"trailer\\\">\\n    <div class=\\\"trailer-backdrop\\\">\\n        <div class=\\\"trailer-modal\\\">\\n            <iframe class=\\\"video\\\" src=\\\"https://www.youtube.com/embed/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"idTrailer\") || (depth0 != null ? lookupProperty(depth0,\"idTrailer\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"idTrailer\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":58,\"column\":69},\"end\":{\"line\":58,\"column\":82}}}) : helper)))\n    + \"\\\" frameborder=\\\"0\\\" allowfullscreen>\\n            </iframe>\\n\\n            <button data-action=\\\"close\\\" class=\\\"film-trailer-close\\\"></button>\\n        </div>\\n    </div>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}